<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Frame Proxy Client</title>
<style>
  body{font-family:system-ui; margin:0; padding:12px;}
  .bar{display:flex; gap:8px; align-items:center; max-width:1100px; margin:0 auto;}
  input[type=text]{flex:1;padding:8px;border-radius:6px;border:1px solid #ccc;}
  button, select{padding:8px;border-radius:6px;}
  iframe{width:100%;height:75vh;border:1px solid #ddd;margin-top:12px;border-radius:8px;}
</style>
</head>
<body>
  <div class="bar">
    <input id="url" type="text" placeholder="https://example.com" />
    <select id="mode">
      <option value="load">Load site</option>
    </select>
    <button id="go">Load in iframe</button>
  </div>
  <iframe id="viewer" src=""></iframe>

<script>
document.getElementById('go').addEventListener('click', () => {
  const raw = document.getElementById('url').value.trim();
  if (!raw) return alert('Enter a URL');
  try {
    const u = new URL(raw);
    const encoded = encodeURIComponent(u.toString());
    document.getElementById('viewer').src = `/frame?u=${encoded}`;
  } catch (e) {
    alert('Invalid URL');
  }
});
</script>
</body>
</html>
